import{_ as x}from"./index-B9hRhR7y.js";import{d as L,aH as I,az as E,aI as R,C as u,aw as S,ay as A,P as T,aJ as f,aF as v,aK as U,aL as $,aG as P,a8 as j,a4 as z,_ as B,b as D,e as o,ad as p,H as _,a2 as F,w as O,E as V,r as b,o as q}from"./index-DaPY3ALx.js";import H from"./ContainerLayout-4lj6niYN.js";import{T as M}from"./Translations-B5CO7Twp.js";import"./input-DY-i7M2R.js";import"./index-Db6Ik5A8.js";import"./castArray-C7lErT_6.js";import"./popper-D1dl-dff.js";const N=L({name:"UserAccountLogin",components:{UserAccountContainerLayout:H,Promotion:I,Translations:M},setup(){const{proxy:t}=E(),s=R(),g=P(),m=$(),n=u(!0),r=u(""),a=u(""),c=S({email:"vite.admin@gmail.com",password:"123456"}),e=A.useI18n(),y=T(()=>({title:e.t("login.hydl"),actionList:[{attrs:{type:"primary",loading:n.value,size:"large"},text:e.t("login.signin"),on:{click(l){d(l)}}}],formConfig:[{attrs:{prop:"email",error:r.value,rules(){return[t.getRequiredRules({trigger:"change",message:e.t("login.plsemail")}),t.getValidatorRules("","blur",{type:"email",message:e.t("login.plscurrentemail")})]}},label:e.t("login.email"),prefixIcon:f("span",{class:"text-16px i-ic:baseline-mail-lock"}),placeholder:e.t("login.plsemail")},{attrs:{prop:"password",error:a.value,rules(){return t.getRequiredRules({trigger:"change",message:e.t("login.plspwd")})}},link:{text:`${e.t("login.fgtpwd")}?`,click(){v({type:"success",message:e.t("login.fgtpwd")})}},type:"password",label:e.t("login.pwd"),prefixIcon:f("span",{class:"text-16px i-ri:lock-password-fill"}),placeholder:e.t("login.plspwd")}]}));function i(l=!1){n.value=l}function d(l){n.value||l.validate(async w=>{if(!w)return;r.value="",a.value="",i(!0);const{error:h,data:C,msg:k}=await s.login(c);if(h){r.value=" ",a.value=k,i(!1);return}U.set("token",C.user.token),m.replace(`/${g.params.locale||""}`).then(()=>{v({type:"success",message:e.t("login.logingSuccess")})}).catch(()=>{})})}return i(!0),j(()=>{z(()=>{i(!1)})}),{isLoading:n,inputErrorEmail:r,inputErrorPassword:a,formData:c,configLogin:y,setLoading:i,onSubmit:d}}}),G=""+new URL("pinia-4CdhEOYF.svg",import.meta.url).href,J={class:"user-account-nav"},K={class:"nav-left"},Y={class:"nav-title"},Q={class:"nav-right"},W={class:"user-account-body"};function X(t,s,g,m,n,r){const a=b("Translations"),c=b("UserAccountContainerLayout"),e=x;return q(),D("div",{class:_(["user-account-login",["bgimage-images-logo-background-jpg","bg-no-repeat bg-cover"]])},[o("div",J,[o("div",K,[o("div",{class:_(["nav-logo",["bgimage-images-i18n-svg","bg-no-repeat bg-contain bg-center"]])}),s[0]||(s[0]=o("div",{class:"nav-circle"},null,-1)),o("div",Y,F(t._t("base.systemTitle")),1)]),o("div",Q,[p(a)])]),o("div",W,[p(c,V(t.configLogin,{"form-data":t.formData,onOnSubmit:t.onSubmit}),{titleIcon:O(()=>s[1]||(s[1]=[o("img",{src:G,alt:""},null,-1)])),_:1},16,["form-data","onOnSubmit"])]),p(e)])}const ie=B(N,[["render",X],["__scopeId","data-v-f3cbb39f"]]);export{ie as default};
